# オセロ（othell_codex）

シンプルなブラウザ版オセロです。HTML/CSS/JavaScript（バニラ）だけで動作し、追加の依存関係はありません。

## 使い方
- `index.html` をブラウザで開きます（Chrome / Edge / Firefox / Safari 推奨）。
- ローカルで開くだけで動作します。サーバは不要です。

## 操作
- 盤のマスをクリックして石を置きます（キーボードは Enter/Space でも可）。
- 「新規ゲーム」: 盤面を初期化して黒番から再開します。
- 「パス」: 自分に合法手が無い時のみ有効です。
- 「合法手を表示」: 合法手の候補位置に小さな点を表示/非表示します。
- 「対戦相手」: 人間/CPU を選択できます。
- 「あなたの色」: CPU対戦時に有効（黒/白）。
- 「強さ」: CPUの強さを「弱い/普通/強い」から選択できます（右側の3段メーターで視覚化）。

## ルール概要
- 初期配置は中央 4 マスに白白/黒黒の斜向かい配置、黒先です。
- 自分の石で相手の石を直線方向（8 方向）に挟むように置くと、挟まれた相手の石が自分の色にひっくり返ります。
- 打てる手が無い場合はパスします。両者とも打てないとゲーム終了です。
- 終了時に石数が多い方の勝ち（同数は引き分け）。

## 画面の見方
- 上部: 手番とスコア（石数）、メッセージ表示。
- 盤面: 最後に打った位置は破線の円で表示。合法手表示を ON にすると淡い点が候補位置に出ます。
- 終局時: 勝者色の円とメッセージ、リセットボタン付きのオーバーレイが表示されます。

## ファイル構成
- `index.html`: 画面の骨組み。
- `style.css`: スタイル、盤・石の見た目。
- `script.js`: ルールロジックとUI制御（合法手計算、反転処理、描画、操作など）。

## 既知の制限
- 盤サイズは 8x8 固定です。
- セーブ/ロード等の機能はありません。

## 開発メモ
- ルールロジックは `script.js` 内で自己完結しており、方向ベクトルによる走査で合法手と反転対象を算出しています。
- CPUの強さ:
  - 弱い: 角最優先→反転枚数最大。
  - 普通: 1手先の評価（位置重み＋機動力＋石差＋角）で選択。
  - 強い: αβ枝刈り付きNegamax（原則2〜3手先）で探索。
- 「パス」は自手に合法手が無い時のみボタンが有効（CPUは自動パス）。
- 合法手表示/対戦相手/あなたの色/強さは `localStorage` に保存されます（環境により保存できない場合は無視）。
